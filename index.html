<!DOCTYPE html>




<html class="theme-next mist" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Heheceo">
<meta property="og:url" content="http://www.heheceo.com/index.html">
<meta property="og:site_name" content="Heheceo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Heheceo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.heheceo.com/"/>





  <title>Heheceo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Heheceo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/06/22/JavaCrazyTips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/22/JavaCrazyTips/" itemprop="url">Java Tips</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-22T19:55:39+08:00">
                2018-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-Java会确保每个字符串常量只有一个，不会产生多个副本。意思就是只要字符串长得一样，那么所有的变量都引用一块内存，如："><a href="#1-Java会确保每个字符串常量只有一个，不会产生多个副本。意思就是只要字符串长得一样，那么所有的变量都引用一块内存，如：" class="headerlink" title="1.Java会确保每个字符串常量只有一个，不会产生多个副本。意思就是只要字符串长得一样，那么所有的变量都引用一块内存，如："></a>1.Java会确保每个字符串常量只有一个，不会产生多个副本。意思就是只要字符串长得一样，那么所有的变量都引用一块内存，如：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s0 = “helloworld”</span><br><span class="line">String s1 = “helloworld”</span><br><span class="line">String s2 = “hello” + “world”</span><br><span class="line">s0=s1=s2</span><br></pre></td></tr></table></figure>
<h3 id="2-break不仅可以跳出本层循环，也可以跳出指定循环，通过java的标识符来实现-如："><a href="#2-break不仅可以跳出本层循环，也可以跳出指定循环，通过java的标识符来实现-如：" class="headerlink" title="2. break不仅可以跳出本层循环，也可以跳出指定循环，通过java的标识符来实现,如："></a>2. break不仅可以跳出本层循环，也可以跳出指定循环，通过java的标识符来实现,如：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    outer:</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">5</span>; j&gt;<span class="number">0</span>; j--)</span><br><span class="line">        &#123;</span><br><span class="line">                System.out.println(<span class="string">"i="</span> + i + <span class="string">"j="</span> + j);</span><br><span class="line">                <span class="keyword">if</span> (i==j) &#123;</span><br><span class="line">                      <span class="keyword">break</span> outer;</span><br><span class="line">                 &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-java实例可以调用static修饰的静态方法-变量。但是不鼓励这么调用"><a href="#3-java实例可以调用static修饰的静态方法-变量。但是不鼓励这么调用" class="headerlink" title="3.java实例可以调用static修饰的静态方法/变量。但是不鼓励这么调用"></a>3.java实例可以调用static修饰的静态方法/变量。但是不鼓励这么调用</h3><h3 id="4-java，方法中的参数传递都是值传递，也就是方法内部会将传进来的参数copy一份，基础类型没有什么疑问，对于引用类型，是将指针copy一份，但是与外部的指针指向的是同一份内存。"><a href="#4-java，方法中的参数传递都是值传递，也就是方法内部会将传进来的参数copy一份，基础类型没有什么疑问，对于引用类型，是将指针copy一份，但是与外部的指针指向的是同一份内存。" class="headerlink" title="4.java，方法中的参数传递都是值传递，也就是方法内部会将传进来的参数copy一份，基础类型没有什么疑问，对于引用类型，是将指针copy一份，但是与外部的指针指向的是同一份内存。"></a>4.java，方法中的参数传递都是值传递，也就是方法内部会将传进来的参数copy一份，基础类型没有什么疑问，对于引用类型，是将指针copy一份，但是与外部的指针指向的是同一份内存。</h3><h3 id="5-如果一个子类声明了一个和父类相同名字的实例变量。java会开辟两份存储空间分别存储父类的变量和子类的变量。例如"><a href="#5-如果一个子类声明了一个和父类相同名字的实例变量。java会开辟两份存储空间分别存储父类的变量和子类的变量。例如" class="headerlink" title="5.如果一个子类声明了一个和父类相同名字的实例变量。java会开辟两份存储空间分别存储父类的变量和子类的变量。例如"></a>5.如果一个子类声明了一个和父类相同名字的实例变量。java会开辟两份存储空间分别存储父类的变量和子类的变量。例如</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name = <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name = <span class="string">"hello world"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    SubClass c = SubClass()</span><br><span class="line">    System.out.println(c.name); <span class="comment">//hello world</span></span><br><span class="line">    System.out.println(((Parent)c).name); <span class="comment">//hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-引用变量再编译阶段只能调用其编译时类型所具有的方方法，但运行时却执行运行时类型所具有的方法。所以引用变量只能调用编译时确定的方法。这种情况多放生在多态的时候。但是实例变量和方法并不一样，系统访问编译时所定义的变量。"><a href="#6-引用变量再编译阶段只能调用其编译时类型所具有的方方法，但运行时却执行运行时类型所具有的方法。所以引用变量只能调用编译时确定的方法。这种情况多放生在多态的时候。但是实例变量和方法并不一样，系统访问编译时所定义的变量。" class="headerlink" title="6.引用变量再编译阶段只能调用其编译时类型所具有的方方法，但运行时却执行运行时类型所具有的方法。所以引用变量只能调用编译时确定的方法。这种情况多放生在多态的时候。但是实例变量和方法并不一样，系统访问编译时所定义的变量。"></a>6.引用变量再编译阶段只能调用其编译时类型所具有的方方法，但运行时却执行运行时类型所具有的方法。所以引用变量只能调用编译时确定的方法。这种情况多放生在多态的时候。但是实例变量和方法并不一样，系统访问编译时所定义的变量。</h3><h3 id="7-final修饰的成员变量必须由程序显示的指定初始值，系统不会进行隐式初始化。指定初始值的地方只能有如下几个："><a href="#7-final修饰的成员变量必须由程序显示的指定初始值，系统不会进行隐式初始化。指定初始值的地方只能有如下几个：" class="headerlink" title="7.final修饰的成员变量必须由程序显示的指定初始值，系统不会进行隐式初始化。指定初始值的地方只能有如下几个："></a>7.final修饰的成员变量必须由程序显示的指定初始值，系统不会进行隐式初始化。指定初始值的地方只能有如下几个：</h3><blockquote>
<p>1.类变量：必须在静态初始化块中指定或者在声明该变量的时候指定，并且只能在其中一处指定。<br>2.实例变量：必须在静态初始化块中指定或者在声明该变量的时候指定，或者在构造方法里指定。三处只能选其一。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>你知道吗，上面程序的a，其实压根不存在。final一个重要用途就是“宏变量”，当final变量在定义的时候就指定了值，那么这个final变量就是一个“宏变量”，编译器会把程序中所有用到该变量的地方直接替换成该变量的值。很聪明不是么</p>
</blockquote>
<h3 id="8-接口和抽象类"><a href="#8-接口和抽象类" class="headerlink" title="8. 接口和抽象类"></a>8. 接口和抽象类</h3><blockquote>
<p>共性：</p>
<ol>
<li>接口和抽象类都不能被实例化，都位于继承树的顶端，用于被其他类实现和继承</li>
<li>接口和抽象类都可以包含抽象方法，实现接口和子类都必须实现这些抽象方法</li>
</ol>
</blockquote>
<blockquote>
<p>异性：</p>
<ol>
<li>接口提现的是一种规范，接口规定了实现者必须向外提供哪些服务。接口更像一个通信协议。</li>
<li>抽象类更像是一个模板，告诉子类你该按照爸爸的样子来长，别长歪了。</li>
</ol>
</blockquote>
<blockquote>
<p>具体细节方面的不同：</p>
<ol>
<li>接口只能包含抽象方法和默认方法，抽象类可以包含普通方法（带有花括号实现体）。</li>
<li>接口只能定义静态常量，抽象类可以定义普通变量</li>
<li>接口不能包含构造器，抽象类可以包含构造器，但是其并不用于创建对象，而是让其子类调用这些构造器来完成抽象类的初始化工作。</li>
<li>一个类可以实现多个接口，但是只能继承一个抽象类 </li>
</ol>
</blockquote>
<h3 id="9-GC内存回收"><a href="#9-GC内存回收" class="headerlink" title="9. GC内存回收"></a>9. GC内存回收</h3><blockquote>
<p>对象在内存中分为以下三种状态：</p>
<ol>
<li>可达状态：一个对象被初始化并被一个或一个以上变量引用的时候，称为可达状态。</li>
<li>可恢复状态：一个对象不再有变量引用的时候称为可恢复状态，当GC回收该对象并调用该对象finalize()的时候，该对象可通过添加引用来变成可达状态，反之则变为不可达状态。</li>
<li>不可达状态：当GC已经调用了该对象的finalize()方法，该对象仍然没有变为可达状态，此对象会被回收。</li>
</ol>
</blockquote>
<blockquote>
<p>finalize() 方法调用有如下4个特点</p>
<ol>
<li>永远不要主动调用对象的finalize()方法，该方法由GC来调用</li>
<li>finalize()何时被调用具有很强的不确定性，所以不要在此方法里做一些必须的清理工作</li>
<li>finalize()调用时可以通过重新设置引用变量来使该对象重新变为可达状态</li>
<li>finalize()调用时抛出异常，GC并不会报告异常，程序继续执行</li>
</ol>
</blockquote>
<h3 id="10-java引用"><a href="#10-java引用" class="headerlink" title="10. java引用"></a>10. java引用</h3><blockquote>
<ol>
<li>强引用<blockquote>
<p>java中最常见的引用方式，程序创建一个对象，并把这个对象赋给一个引用变量，通过变量来访问操作实际的对象，当对象被一个或多个变量强引用的时候，对象处于可达状态。</p>
</blockquote>
</li>
<li>软引用<blockquote>
<p>软引用通过SoftReference类来实现，当一个对象只有软引用时候，它有可能被GC回收，但只有在系统内存空间不足的时候才会回收。软引用常用于内存敏感的程序中。</p>
</blockquote>
</li>
<li>弱引用<blockquote>
<p>弱引用通过WeakReference类来实现，当一个对象只有弱引用是，无论内存是否充足，都有可能被GC回收。</p>
</blockquote>
</li>
<li>虚引用<blockquote>
<p>虚引用通过PhantomReference类来实现，虚引用完全类似于没有引用，虚引用对对象没有太大影响，虚引用不能单独使用，必须和引用队列联合使用。</p>
</blockquote>
</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#虚引用使用</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPhantomReference</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">"Hello PhantomReference"</span>;</span><br><span class="line">        ReferenceQueue queue = ReferenceQueue();</span><br><span class="line">        PhantomReference pr = <span class="keyword">new</span> PhantomReference&lt;T&gt;(str, queue);</span><br><span class="line">        str = <span class="keyword">null</span>;</span><br><span class="line">        System.out.print(pr.get());      <span class="comment">// 输出null</span></span><br><span class="line">        System.gc();</span><br><span class="line">        System.runFinalization();</span><br><span class="line">        System.out.print(queue.poll() == pr);   <span class="comment">// 输出 true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/03/08/Leetcode-M/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/08/Leetcode-M/" itemprop="url">LeetCode(Medium)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-08T18:35:17+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Partition-Labels"><a href="#1-Partition-Labels" class="headerlink" title="1. Partition Labels"></a>1. Partition Labels</h2><p><a href="https://leetcode.com/problems/partition-labels/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>A string S of lowercase letters is given. We want to partition this string into as many parts as possible so that each letter appears in at most one part, and return a list of integers representing the size of these parts.</p>
</blockquote>
<blockquote>
<blockquote>
<p>Example 1:<br>Input: S = “ababcbacadefegdehijhklij”<br>Output: [9,7,8]<br>Explanation:<br>The partition is “ababcbaca”, “defegde”, “hijhklij”.<br>This is a partition so that each letter appears in at most one part.<br>A partition like “ababcbacadefegde”, “hijhklij” is incorrect, because it splits S into less parts.</p>
</blockquote>
</blockquote>
<blockquote>
<p>Note:<br>S will have length in range [1, 500].<br>S will consist of lowercase letters (‘a’ to ‘z’) only.</p>
</blockquote>
<p>切割一个由小写字母组成的字符串S为n个子串，要求每个字符只最多只能出现在一个子串中。例如：<br><strong>str = ‘abcabdhij’</strong><br>我们先从第一个字符’a’开始，要想不重复，肯定需要找到最后一个字符‘a’，其中的字符‘abca’都应该在第一个子串里，我们分析这个子串，发现‘b’的最后一个字符的位置比‘a’更大，所以第一个子串至少是‘abcab’，我们再分析‘c’，发现最后一个‘c’的位置是小于最后一个‘b’的，因此第一个子串应该是‘abcab’，剩下元素同上。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partitionLabels</span><span class="params">(S)</span>:</span></span><br><span class="line">    sizes = []</span><br><span class="line">    start = <span class="number">0</span>     <span class="comment">#记录开始位置</span></span><br><span class="line">    end = <span class="number">0</span>       <span class="comment">#记录已遍历的字符出现的最远位置。</span></span><br><span class="line">    <span class="keyword">for</span> i, l <span class="keyword">in</span> enumerate(S):</span><br><span class="line">        last = S.rfind(l, i+<span class="number">1</span>, len(S))   <span class="comment">#找到字符l在S里的最远位置</span></span><br><span class="line">        <span class="keyword">if</span> last &gt; end:   <span class="comment">#当出现一个更远的字符的时候，更新end</span></span><br><span class="line">            end = last</span><br><span class="line">        <span class="keyword">if</span> i == end:     <span class="comment">#在S[end:]已无重复，切割字符串</span></span><br><span class="line">            sizes.append(end-start+<span class="number">1</span>)</span><br><span class="line">            start = end+<span class="number">1</span></span><br><span class="line">            end = end+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> sizes</span><br><span class="line"></span><br><span class="line">print(partitionLabels(<span class="string">"ababcbacadefegdehijhklij"</span>))   <span class="comment"># [9, 7, 8]</span></span><br></pre></td></tr></table></figure>
<h2 id="2-Single-Element-in-a-Sorted-Array"><a href="#2-Single-Element-in-a-Sorted-Array" class="headerlink" title="2. Single Element in a Sorted Array"></a>2. Single Element in a Sorted Array</h2><p><a href="https://leetcode.com/problems/single-element-in-a-sorted-array/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>Given a sorted array consisting of only integers where every element appears twice except for one element which appears once. Find this single element that appears only once.</p>
</blockquote>
<blockquote>
<blockquote>
<p>Example 1:<br>Input: [1,1,2,3,3,4,4,8,8]<br>Output: 2</p>
</blockquote>
</blockquote>
<blockquote>
<p>Note: Your solution should run in O(log n) time and O(1) space.</p>
</blockquote>
<p>给定一个有序数组，只有一个元素只出现了一次，其余所有元素会出现两次，要求时间复杂度为log n，因为有序，我们通过二分查找的方法来找到单独的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNonDuplicate</span><span class="params">(nums)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(nums) == <span class="number">1</span>: <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">    mid = int(len(nums)/<span class="number">2</span>)</span><br><span class="line">    i = nums[mid]</span><br><span class="line">    <span class="keyword">if</span> i!=nums[mid<span class="number">-1</span>] <span class="keyword">and</span> i!=nums[mid+<span class="number">1</span>]:      <span class="comment">#如果中间的元素与左右两个元素都不相等，那么就是要找的那个元素</span></span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    <span class="keyword">if</span> nums[mid<span class="number">-1</span>]==i:         <span class="comment">#如果中间的元素与左边元素相等</span></span><br><span class="line">        left = nums[<span class="number">0</span>:mid+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> len(left)%<span class="number">2</span>==<span class="number">0</span>:    <span class="comment">#如果算上中间元素，一共有2的倍数个元素，说明单独的元素肯定不在左边，递归的在右边剩余的元素里查找。</span></span><br><span class="line">            <span class="keyword">return</span> singleNonDuplicate(nums[mid+<span class="number">1</span>:len(nums)])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> singleNonDuplicate(left)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        right = nums[mid:len(nums)]</span><br><span class="line">        <span class="keyword">if</span> len(right)%<span class="number">2</span>==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> singleNonDuplicate(nums[<span class="number">0</span>:mid])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> singleNonDuplicate(right)</span><br><span class="line">number = singleNonDuplicate([<span class="number">3</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">11</span>])</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/02/28/leetcode-sort/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/28/leetcode-sort/" itemprop="url">LeetCode(排序部分)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-28T11:33:46+08:00">
                2018-02-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>排序算法作为程序员必备的技能我们一起来熟悉一下，想象我们中学体育课排队的时候，明白其中的原理其实很简单</strong></p>
<h3 id="1-冒泡排序"><a href="#1-冒泡排序" class="headerlink" title="1.冒泡排序"></a>1.冒泡排序</h3><h5 id="原理说明"><a href="#原理说明" class="headerlink" title="原理说明"></a>原理说明</h5><p>先从最简单的冒泡排序开始，一共n个同学排队，体育老师每次从第一个同学开始，拉到第二个同学面前比较，如果你比他高继续和第三个比较，如果你比他矮，那你站在他的位置上，把他拉出来继续和后面的同学比较，一圈下来最后站在老师面前的肯定是最高的，把他放在最后位置。对剩下的n-1个同学继续这么操作直到只剩下一个同学为止。<br>冒泡排序可以通过是否发生过交互操作来提前判断队列是否已经有序，也算一个优化的点。</p>
<p><img src="bubblesort.gif" alt="" title="排序效果图"></p>
<h5 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 实现冒泡</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span><span class="params">(l)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(l)<span class="number">-1</span>):</span><br><span class="line">        isChanged = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, len(l)<span class="number">-1</span>-i):</span><br><span class="line">            <span class="keyword">if</span> l[j] &gt; l[j+<span class="number">1</span>]:</span><br><span class="line">                value = l[j]</span><br><span class="line">                l[j]=l[j+<span class="number">1</span>]</span><br><span class="line">                l[j+<span class="number">1</span>]=value</span><br><span class="line">                isChanged = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isChanged:</span><br><span class="line">            print(<span class="string">"已经有序了，不需要交换了"</span>,i)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    print(l)</span><br><span class="line"></span><br><span class="line">bubbleSort([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>从代码实现看，需要两次for循环，因此时间复杂度为 <strong>O(n^2)</strong></p>
<h3 id="2-选择排序"><a href="#2-选择排序" class="headerlink" title="2.选择排序"></a>2.选择排序</h3><h5 id="原理说明-1"><a href="#原理说明-1" class="headerlink" title="原理说明"></a>原理说明</h5><p>选择排序和冒泡排序有点类似，区别在于交换次数。体育老师从第一个同学开始，用一个小本记录下该同学身高以及所在位置，依次和剩下的同学比较，如果发现有比本本上的身高低的同学，那么就更新一下本本上的身高以及该同学的位置。一趟下来老师本子上记录的内容是：最低身高以及该身高的同学所在的位置，该同学与第一位同学交互位置。然后从第二名到第n名同学继续进行上述操作。</p>
<p><img src="selectsort.gif" alt="" title="排序效果图"></p>
<h5 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 选择排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectSort</span><span class="params">(l)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(l)<span class="number">-1</span>):</span><br><span class="line">        min = l[i]</span><br><span class="line">        index = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i, len(l)):</span><br><span class="line">            <span class="keyword">if</span> min &gt; l[j]:</span><br><span class="line">                min = l[j]</span><br><span class="line">                index = j</span><br><span class="line">        value = l[i]</span><br><span class="line">        l[i]=l[index]</span><br><span class="line">        l[index]=value</span><br><span class="line">    print(l)</span><br><span class="line">    </span><br><span class="line">selectSort([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">101</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-1"><a href="#时间复杂度-1" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>从代码实现看，需要两次for循环，因此时间复杂度为 <strong>O(n^2)</strong>， 但因为选择排序每次只进行一次交换，因此大部分情况会高于冒泡排序。</p>
<h3 id="3-插入排序"><a href="#3-插入排序" class="headerlink" title="3.插入排序"></a>3.插入排序</h3><h5 id="原理说明-2"><a href="#原理说明-2" class="headerlink" title="原理说明"></a>原理说明</h5><p>插入排序很好懂，第一位同学算作已经排好队了，从第二位同学开始依次向前比较，找到自己合适的位置插入进去。</p>
<p><img src="insertsort.gif" alt="" title="排序效果图"></p>
<h5 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 插入排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertSort</span><span class="params">(l)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(l)):</span><br><span class="line">        temp = l[i]</span><br><span class="line">        insertIndex = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> temp&lt;=l[j]:</span><br><span class="line">                insertIndex = j    <span class="comment">#更新插入位置</span></span><br><span class="line">                <span class="keyword">if</span> j&gt;<span class="number">1</span> <span class="keyword">and</span> temp&gt;=l[j<span class="number">-1</span>]:   <span class="comment">#如果已经比前一位大了那就不需要继续往前走了</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">del</span> l[i]                     <span class="comment">#进行插入</span></span><br><span class="line">        l.insert(insertIndex,temp)</span><br><span class="line">    print(l)</span><br><span class="line">insertSort([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">101</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-2"><a href="#时间复杂度-2" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>从代码实现看，正常情况下需要两次for循环，因此时间复杂度为 <strong>O(n^2)</strong>，但如果整个数组已经基本有序了第二次for循环的判断次数会大大减少，时间复杂度最好的情况会变成O(n),这也是我们马上要讲到的希尔排序所努力的方向。</p>
<h3 id="4-希尔排序"><a href="#4-希尔排序" class="headerlink" title="4.希尔排序"></a>4.希尔排序</h3><h5 id="原理说明-3"><a href="#原理说明-3" class="headerlink" title="原理说明"></a>原理说明</h5><p>希尔排序其实也可以算作是分组插入排序，上面我们讲到如果一个序列基本有序，那插入排序的复杂度可以接近O(n)，希尔排序其实一共分为两部分：1.通过分组进行插入排序来使整个序列基本有序 2.对操作后的序列进行一次插入排序。<br>希尔排序很关键的一点就是取步长n，也就是每间隔n的元素作为一组</p>
<h5 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 希尔排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shellSort</span><span class="params">(l)</span>:</span></span><br><span class="line">    step = int(len(l)/<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">while</span> step &gt;= <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">"当前增量是："</span>, step)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(step, len(l)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i-step, -step, -step):   <span class="comment"># l[j]与l[i]为同一组 元素</span></span><br><span class="line">                <span class="keyword">if</span> l[j] &gt; l[j+step]:     <span class="comment">#如果发现顺序不对交互当前元素</span></span><br><span class="line">                    temp = l[j]</span><br><span class="line">                    l[j] = l[j+step]</span><br><span class="line">                    l[j+step] = temp</span><br><span class="line">        step = int(step/<span class="number">2</span>)</span><br><span class="line">    print(l)</span><br><span class="line"></span><br><span class="line">shellSort([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">101</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-3"><a href="#时间复杂度-3" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>希尔排序的目标就是通过引入分组这个概念来尽可能花更少的循环来让序列基本有序，因此排序性能是高于直接插入排序的。其时间复杂度为：O(nlog2n)。</p>
<h3 id="5-快速排序"><a href="#5-快速排序" class="headerlink" title="5.快速排序"></a>5.快速排序</h3><h5 id="原理说明-4"><a href="#原理说明-4" class="headerlink" title="原理说明"></a>原理说明</h5><p>当时去爱奇艺面试的时候就被问了快速排序，对此印象深刻，快速排序原理很简单，在数组里找一个基准值，小于基准值的放入左边，大于基准值的放入右边，因为左边的数据一定是小于右边的，所以在对左右两边的数据递归的进行上述操作，直到只有一个元素为止。</p>
<p><img src="quicksort.gif" alt="" title="排序效果图"></p>
<h5 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 快速排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickSort</span><span class="params">(a, l, r)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> l &lt; r:</span><br><span class="line">        i = l</span><br><span class="line">        j = r</span><br><span class="line">        x = a[l]    <span class="comment">#选取比较基准</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            <span class="keyword">while</span>(i&lt;j <span class="keyword">and</span> a[j]&gt;=x):   <span class="comment">#从右向左寻找比基准小的元素</span></span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i &lt; j:  <span class="comment">#说明上面从右往左的寻找找到了比x小的元素</span></span><br><span class="line">                a[i] = a[j]    <span class="comment">#将位置j的元素移动到i上</span></span><br><span class="line">                i += <span class="number">1</span> </span><br><span class="line">            <span class="keyword">while</span>(i&lt;j <span class="keyword">and</span> a[i]&lt;x):     <span class="comment">#从左向右寻找比x大的元素来填充位置j，因为位置j的元素被填充到位置i上了。</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i &lt; j:</span><br><span class="line">                a[j] = a[i]</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">        a[i] = x   <span class="comment">#将基准元素填充到应该填充的位置</span></span><br><span class="line">        quickSort(a, l, i<span class="number">-1</span>)</span><br><span class="line">        quickSort(a, i+<span class="number">1</span>, r)</span><br><span class="line"></span><br><span class="line">s = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">101</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">12</span>]</span><br><span class="line">quickSort(s, <span class="number">0</span>, len(s)<span class="number">-1</span>)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-4"><a href="#时间复杂度-4" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>最坏情况<br>假设我们每次选择的主元恰好是待排数组中的极值且元素都不重复时，例如最小值：根据切分函数，指针i在遇到第一个元素就停下来，而j却一直向左遍历直到遇到主元才停下来。最终切分的位置变成了left，切分出一个大小为0的数组和一个大小为n - 1的数组，不烦假设每次都出现这种不平等的切分，切分的操作时间复杂度为O(n)，对一个大小为0的数组递归调用排序会直接返回，因此T(0) = O(1)。于是算法的运行时间的递归式可表达为：T(n) = T(0) + T(n - 1) + O(n) = T(n - 1) + O(n)，T(n)的解是O(n^2)。<br>最好情况<br>最好的情况是每次切分后的两个数组大小都不大于n / 2时，这时一个的数组的大小为[n / 2 - 1]，另一个为[n / 2]，此时算法运行时间的递归式为：T(n) = 2T(n / 2) + O(n)，T(n)的解是O(nlgn)。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/02/09/SwiftTips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/09/SwiftTips/" itemprop="url">SwiftTips</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-09T10:56:30+08:00">
                2018-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>本篇文章记录Swift学习使用中的一些知识点</strong></p>
<h2 id="1-String-count-vs-NSString-length"><a href="#1-String-count-vs-NSString-length" class="headerlink" title="1. String.count vs NSString.length"></a>1. String.count vs NSString.length</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"Dog‼🐶"</span></span><br><span class="line"><span class="keyword">let</span> nstr: <span class="type">NSString</span> = <span class="string">"Dog‼🐶"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"count in String: \(str.count), count in NSString: \(nstr.length)"</span>)</span><br><span class="line"><span class="comment">//"count in String: 5, count in NSString: 6"</span></span><br></pre></td></tr></table></figure>
<p>刚接触Swift的String的时候肯定会对上面的输出结果产生疑问：为啥一个是5，一个是6？这肯定是Swift和Objective-c的字符编码不同的原因。我们先复习一下字符编码。</p>
<blockquote>
<ul>
<li><strong>ASCII码</strong>：这个是上个世纪60年代老美定的一套字符编码，只需要一个字节，可以从00000000表示到11111111，一共可以表示2^8=256个字符。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong>Unicode</strong>：ASCII码最多只能表示256个字符，英文是够了，但是对于中文以及别的语言是完全不够用的，因此中国创造了GB231编码,用2个字节表示。其他国家也可能会创造别的编码，这样新的问题又出现了:同样的编码值可能对应的是不同的文字，因此需要一种统一的编码来包含世界上所有的文字：Unicode.Unicode是世界上所有符号的集合，目前已经很大很大了。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong>UTF-8</strong>: Unicode编码有一个很大的弊端，因为他所有的字符占有的位数是一样的，比如汉字严的 Unicode 是十六进制数4E25，转换成二进制数足足有15位（100111000100101），也就是说，这个符号的表示至少需要2个字节。表示其他更大的符号，可能需要3个字节或者4个字节，甚至更多，而英文字母其实只需要一个字节就可以表示，因此会造成极大的浪费。变长的字符编码UTF-8就是这么实现的，UTF-8是Unicode的一种实现方式。<br>UTF-8实现方式很简单，遵守两条规则：<br>1）对于单字节的符号，字节的第一位设为0，后面7位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。<br>2）对于n字节的符号（n &gt; 1），第一个字节的前n位都设为1，第n + 1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。</li>
</ul>
</blockquote>
<p>NSString是基于UTF-16的，也就是说NSString每个字符最大的位数是16位，称为一个<strong>码元</strong>,当我们执行[NSString length]的时候返回的是码元的个数而不是字符的个数。而Swift里的String，他是Unicode-21位的。对于一个emoji来说它的Unicode的位数是大于16位而小于21位的，因此一个emoji在String里的长度是1，而在NSString里是2。</p>
<p><em>关于Unicode与NSString的关系推荐一篇<a href="https://objccn.io/issue-9-1/" target="_blank" rel="noopener">文章</a> (需要翻墙)</em></p>
<h2 id="2-Closures"><a href="#2-Closures" class="headerlink" title="2. Closures"></a>2. Closures</h2><p>Clouser用法大致思路上和的Block相似，但是细节上有很多不同的地方，Clouser有一些黑魔法，会让代码变得更简单更易读。<br>首先用内置函数 <em>sorted(by:)</em> 来介绍一下Closure的多种写法：</p>
<ul>
<li>最复杂的写法</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">ar result = array.sorted &#123; (a1, a2) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> a1 &gt; a2</span><br></pre></td></tr></table></figure>
<ul>
<li>如果参数以及返回值类型是可以推断出来的，可以省略掉参数的括号和返回值</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = array.sorted(by: &#123; a1, a2 <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> a1 &gt; a2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>如果一个closure里只有一行代码，那连关键字<strong>return</strong>都可以省略</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = array.sorted(by: &#123; a1, a2 <span class="keyword">in</span> a1 &gt; a2 &#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>我们再来简化一下参数名字，swift可以使用 $0,$1,$2… 来代替相应位置的参数的</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = array.sorted(by: &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>Trailing Closures，顾名思义就是函数的最后一个参数是closure，成为<strong>尾部闭包</strong>，可省略参数名来简略写法</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trailingClosure</span><span class="params">(arg: String, closure:<span class="params">(<span class="number">_</span> name: String)</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    closure(arg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trailingClosure(arg: <span class="string">"lps"</span>) &#123; (name) <span class="keyword">in</span>    <span class="comment">//省略了参数 closure</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello \(name)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果只有一个参数且参数是closure，括号也可省略</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames = names.sorted &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;</span><br></pre></td></tr></table></figure>
<p>closure这么多写法我们要敢于多用多尝试，一开始肯定看得有点别扭，但是用多了不知不觉就会写出漂亮的语法。<br>我们继续来看几个Closure的关键词</p>
<ul>
<li><strong>Escaping Closure</strong></li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trailingClosure</span><span class="params">(arg: String, closure:<span class="params">(<span class="number">_</span> name: String)</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    closure(arg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trailingClosure(arg: <span class="string">"lps"</span>) &#123; (name) <span class="keyword">in</span>    <span class="comment">//省略了参数 closure</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello \(name)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述例子上我们发现闭包：closure会在函数里立即被调用。但是有些情况闭包在函数return之前都不会调用的，这叫做<strong>闭包逃逸</strong>，必须加入关键词 @escaping 来修饰。比如下面这个例子</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> closureList = [(<span class="type">String</span>) -&gt; <span class="type">Void</span>]()</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trailingClosure</span><span class="params">(arg: String, closure: @escaping  <span class="params">(<span class="number">_</span> name: String)</span></span></span> -&gt; <span class="type">Void</span>) &#123;    <span class="comment">//如果不加关键词 @escaping 编译器会报错</span></span><br><span class="line">    closureList.append(closure)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trailingClosure(arg: <span class="string">"lps"</span>) &#123; (name) <span class="keyword">in</span>    <span class="comment">//省略了参数 closure</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello \(name)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">closureList.first?(<span class="string">"lps"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Autoclosure</strong> 通过下面的例子很容易理解</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//not autoclosure</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">autoClosure</span><span class="params">(closure: <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> closure() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"true"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"false"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">autoClosure(closure: (&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">//autoclosure</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">autoClosure</span><span class="params">(closure: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> closure() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"true"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"false"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">autoClosure(closure: <span class="literal">true</span>))   <span class="comment">//因为添加了autoclosure，所以会编译器会自动将该段代码变成 autoClosure(closure: (&#123;return true&#125;))</span></span><br></pre></td></tr></table></figure>
<p>注意Autoclosure只适合无参数的closure () -&gt; T，而且closure的实现只有一行。</p>
<p><em>深入了解Block的原理，推荐一本书<a href="https://book.douban.com/subject/24720270/" target="_blank" rel="noopener">Objective-C高级编程</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/02/05/LeetCode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/05/LeetCode/" itemprop="url">LeetCode(Easy)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-05T20:23:09+08:00">
                2018-02-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Hamming-Distance"><a href="#1-Hamming-Distance" class="headerlink" title="1.Hamming Distance"></a>1.Hamming Distance</h2><p><a href="https://leetcode.com/problems/hamming-distance/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>两个字符串的 <strong><a href="https://zh.wikipedia.org/wiki/%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB" target="_blank" rel="noopener">汉明距离</a></strong> 是指对应位置不同字符的个数，如 “abc” “cbd”,第一位和第三位字符不一样，因此汉明距离为2。</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hammingDistance</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> bin(x ^ y).count(<span class="string">'1'</span>)</span><br><span class="line"></span><br><span class="line">hammingDistance(x:1, y:4) =&gt; (001 ^ 100) = '101'.count('1') = 2</span><br></pre></td></tr></table></figure>
<h2 id="2-Jewels-and-Stones"><a href="#2-Jewels-and-Stones" class="headerlink" title="2.Jewels and Stones"></a>2.Jewels and Stones</h2><p><a href="https://leetcode.com/problems/jewels-and-stones/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>You’re given strings J representing the types of stones that are jewels, and S representing the stones you have.  Each character in S is a type of stone you have.  You want to know how many of the stones you have are also jewels.<br>The letters in J are guaranteed distinct, and all characters in J and S are letters. Letters are case sensitive, so “a” is considered a different type of stone from “A”.<br>J字符串里的每个字符是宝石，S字符串里的每个字符是石头，在S里找到J包含的字符。J字符是唯一的，S是可重复的。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findJewelsInStones</span><span class="params">(J, S)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> sum(map(S.count, J))</span><br></pre></td></tr></table></figure>
<h2 id="3-Single-Number"><a href="#3-Single-Number" class="headerlink" title="3.Single Number"></a>3.Single Number</h2><p><a href="https://leetcode.com/problems/single-number/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>Given an array of integers, every element appears twice except for one. Find that single one.<br>Note:<br>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
</blockquote>
<blockquote>
<p>一个数组里只有一个数字只出现过一次，其它都出现了两次，找到这个单身狗。要求:<strong>*空间复杂度0，时间复杂度O(n)</strong></p>
</blockquote>
<p>先贴一个我写的，有个问题，调用 <strong><em>sort()</em></strong> 函数本来就不是O(n)了。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        <span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">            <span class="keyword">if</span> i%<span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                count += value</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                count -= value</span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure></p>
<p>通过利用逻辑运算符<strong><em>XOR（异或）</em></strong>的可交换性，可以得到最优的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> value <span class="keyword">in</span> nums:</span><br><span class="line">            result ^= value</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">singleNumber([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>]) = (<span class="number">1</span>^<span class="number">2</span>^<span class="number">3</span>^<span class="number">3</span>^<span class="number">2</span>) = (<span class="number">2</span>^<span class="number">2</span>^<span class="number">3</span>^<span class="number">3</span>^<span class="number">1</span>) = (<span class="number">0</span>^<span class="number">0</span>^<span class="number">1</span>) = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Rerverse-String"><a href="#4-Rerverse-String" class="headerlink" title="4.Rerverse String"></a>4.Rerverse String</h2><p><a href="https://leetcode.com/problems/reverse-string/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>Write a function that takes a string as input and returns the string reversed.<br>Example:<br>Given s = “hello”, return “olleh”.</p>
</blockquote>
<p>翻转字符串，有很多很简单的实现方式，因为str也可以看做一个list，可利用python list的<strong>切片</strong>特性来实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseString</span><span class="params">(s)</span>:</span></span><br><span class="line">    retrun s[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<p>说到切片，在这里回顾一下python list的切片知识</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="comment"># 取倒数第一个元素</span></span><br><span class="line">numbers[:<span class="number">-1</span>] = [<span class="number">9</span>]</span><br><span class="line"><span class="comment"># index从0到2</span></span><br><span class="line">numbers[:<span class="number">3</span>] = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"><span class="comment"># index从1到2</span></span><br><span class="line">numbers[<span class="number">1</span>:<span class="number">3</span>] = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"><span class="comment"># 每两个元素取一个</span></span><br><span class="line">numbers[::<span class="number">2</span>] = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"><span class="comment"># 倒序</span></span><br><span class="line">numbers[::<span class="number">-1</span>] = [<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h2 id="5-Judge-Route-Circle"><a href="#5-Judge-Route-Circle" class="headerlink" title="5.Judge Route Circle"></a>5.Judge Route Circle</h2><p><a href="https://leetcode.com/problems/judge-route-circle/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>Initially, there is a Robot at position (0, 0). Given a sequence of its moves, judge if this robot makes a circle, which means it moves back to the original place.<br>The move sequence is represented by a string. And each move is represent by a character. The valid robot moves are R (Right), L (Left), U (Up) and D (down). The output should be true or false representing whether the robot makes a circle.</p>
</blockquote>
<p>这个问题很简单，遇到”L”横坐标-1，遇到”R”横坐标+1，遇到”D”纵坐标+1，遇到”U”纵坐标-1，遍历string，一顿操作后x=0，y=0既可。python一句话实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">judgeCircle</span><span class="params">(self, moves)</span>:</span></span><br><span class="line">     <span class="keyword">return</span> moves.count(<span class="string">"D"</span>)==moves.count(<span class="string">"U"</span>) <span class="keyword">and</span> moves.count(<span class="string">"L"</span>)==moves.count(<span class="string">"R"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="6-Self-Dividing-Numbers"><a href="#6-Self-Dividing-Numbers" class="headerlink" title="6.Self Dividing Numbers"></a>6.Self Dividing Numbers</h2><p><a href="https://leetcode.com/problems/self-dividing-numbers/description/" target="_blank" rel="noopener">LeetCode</a></p>
<blockquote>
<p>A self-dividing number is a number that is divisible by every digit it contains.<br>For example, 128 is a self-dividing number because 128 % 1 == 0, 128 % 2 == 0, and 128 % 8 == 0.<br>Also, a self-dividing number is not allowed to contain the digit zero.<br>Given a lower and upper number bound, output a list of every possible self dividing number, including the bounds if possible.</p>
<blockquote>
<p>Example 1:<br>Input:<br>left = 1, right = 22<br>Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 15, 22]<br>Note:<br>The boundaries of each input argument are 1 &lt;= left &lt;= right &lt;= 10000.</p>
</blockquote>
</blockquote>
<p>判断一个数字能不能被自身所有位数整除（0算不能），最简单的办法就是for循环，利用python的函数式编程可简化实现方式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selfDividingNumbers</span><span class="params">(self, left, right)</span>:</span></span><br><span class="line">    isDividing = <span class="keyword">lambda</span> num: <span class="string">'0'</span> <span class="keyword">not</span> <span class="keyword">in</span> str(num) <span class="keyword">and</span> all([num % int(digit)==<span class="number">0</span> <span class="keyword">for</span> digit <span class="keyword">in</span> str(num)])</span><br><span class="line">    <span class="keyword">return</span> filter(isDividing, range(left, right))</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/01/29/Jiangniurou/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/29/Jiangniurou/" itemprop="url">酱牛肉做法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-29T18:23:26+08:00">
                2018-01-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/美食/" itemprop="url" rel="index">
                    <span itemprop="name">美食</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="酱牛肉做法"><a href="#酱牛肉做法" class="headerlink" title="酱牛肉做法"></a>酱牛肉做法</h1><p>生平就好一口牛肉，喜欢探索各种牛肉的做法，周末偶然发现了做酱牛肉的良方，试了试回味无穷。做法很简单。</p>
<h3 id="1-选择牛腱肉，凉水浸泡三个小时，泡除血水。"><a href="#1-选择牛腱肉，凉水浸泡三个小时，泡除血水。" class="headerlink" title="1.选择牛腱肉，凉水浸泡三个小时，泡除血水。"></a>1.选择<strong>牛腱肉</strong>，凉水浸泡三个小时，泡除血水。</h3><p><img src="1.jpeg" alt=""></p>
<h3 id="2-倒入适量酱油，封上保鲜膜，放冰箱过夜。"><a href="#2-倒入适量酱油，封上保鲜膜，放冰箱过夜。" class="headerlink" title="2.倒入适量酱油，封上保鲜膜，放冰箱过夜。"></a>2.倒入适量酱油，封上保鲜膜，放冰箱过夜。</h3><p><img src="2.jpeg" alt=""></p>
<h3 id="3-辛苦等了一夜，终于可以开搞了。将酱牛肉放入锅里，把酱油也倒入锅里，加凉水，没过牛肉，开火煮开后打去白色浮沫。"><a href="#3-辛苦等了一夜，终于可以开搞了。将酱牛肉放入锅里，把酱油也倒入锅里，加凉水，没过牛肉，开火煮开后打去白色浮沫。" class="headerlink" title="3.辛苦等了一夜，终于可以开搞了。将酱牛肉放入锅里，把酱油也倒入锅里，加凉水，没过牛肉，开火煮开后打去白色浮沫。"></a>3.辛苦等了一夜，终于可以开搞了。将酱牛肉放入锅里，把酱油也倒入锅里，加凉水，没过牛肉，开火煮开后打去白色浮沫。</h3><p><img src="3.jpeg" alt=""></p>
<h3 id="4-打去白色浮沫后，加入花椒，八角，桂皮，香果，香叶，姜片，喜欢吃辣的也可以加点干辣椒"><a href="#4-打去白色浮沫后，加入花椒，八角，桂皮，香果，香叶，姜片，喜欢吃辣的也可以加点干辣椒" class="headerlink" title="4.打去白色浮沫后，加入花椒，八角，桂皮，香果，香叶，姜片，喜欢吃辣的也可以加点干辣椒"></a>4.打去白色浮沫后，加入花椒，八角，桂皮，香果，香叶，姜片，喜欢吃辣的也可以加点干辣椒</h3><p><img src="4.jpeg" alt=""></p>
<h3 id="5-还要加入一块豆腐乳，适量甜面酱，少量盐。"><a href="#5-还要加入一块豆腐乳，适量甜面酱，少量盐。" class="headerlink" title="5.还要加入一块豆腐乳，适量甜面酱，少量盐。"></a>5.还要加入一块豆腐乳，适量甜面酱，少量盐。</h3><h3 id="6-小火炖2个半小时，一定要小火，似开未开的那种火，火太大会把牛肉弄碎。"><a href="#6-小火炖2个半小时，一定要小火，似开未开的那种火，火太大会把牛肉弄碎。" class="headerlink" title="6.小火炖2个半小时，一定要小火，似开未开的那种火，火太大会把牛肉弄碎。"></a>6.<strong>小火</strong>炖2个半小时，一定要小火，似开未开的那种火，火太大会把牛肉弄碎。</h3><p><img src="5.jpeg" alt=""></p>
<h3 id="7-关火之后，不要盛出来，要等它自然凉透，凉透后放入冰箱冷藏一段时间，就可以吃了。"><a href="#7-关火之后，不要盛出来，要等它自然凉透，凉透后放入冰箱冷藏一段时间，就可以吃了。" class="headerlink" title="7.关火之后，不要盛出来，要等它自然凉透，凉透后放入冰箱冷藏一段时间，就可以吃了。"></a>7.关火之后，不要盛出来，要等它自然凉透，凉透后放入冰箱冷藏一段时间，就可以吃了。</h3><p><img src="7.jpeg" alt=""></p>
<p><strong>这么做味道真的超级棒，煮完的汤可以下个面条，做个米线之类的。最后感谢西瓜视频的 <em>小高姐</em></strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.heheceo.com/2018/01/22/Google-Cloud-Shadowsocks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="浪人">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heheceo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/22/Google-Cloud-Shadowsocks/" itemprop="url">Google Cloud搭建Shadowsocks,高速科学上网，10分钟搞定</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-22T20:31:10+08:00">
                2018-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vpn/" itemprop="url" rel="index">
                    <span itemprop="name">vpn</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>公司VPN没有把Pinterest加入白名单，只能自己动手搭建一个shadowsocks，过程很简单。服务器选的是Google Cloud，好处有以下几点：</p>
<blockquote>
<p>1.第一年赠送300美金，配置稍微选的低一点，可以免费用一年<br>2.速度很快，Youtube 1080无压力。</p>
</blockquote>
<h3 id="配置Google-Cloud"><a href="#配置Google-Cloud" class="headerlink" title="配置Google Cloud"></a>配置Google Cloud</h3><p>1.注册Google Cloud Platform账号，需要一张visia信用卡。注册地址：<a href="https://cloud.google.com/" target="_blank" rel="noopener">Google Cloud官网</a><br>2.创建一个VM，系统建议选择CentOS7,配置建议选低一点，最低的话大概5美金一个月。地区选择asia-east，abc都可以,勾选HTTP,HTTPS流量。<br><img src="Google-Cloud-Shadowsocks/1.png" alt=""><br>3.点击“网络”配置静态ip地址。点击”外部IP”新建一个静态IP,注意选择你vm所在的地区，每个地区只能有一个静态ip。<br><img src="Google-Cloud-Shadowsocks/2.png" alt=""></p>
<h3 id="开启shadowsocks服务"><a href="#开启shadowsocks服务" class="headerlink" title="开启shadowsocks服务"></a>开启shadowsocks服务</h3><p>使用google自带的命令行，通过ssh连接到远程服务器。链接成功后依次输入以下命令。</p>
<blockquote>
<p>1.sudo -i （开启管理员权限）<br>2.yum install python-pip (按照pip，为了安装shadowsocks,中途需要输入“y”来继续安装)<br>3.pip install shadowsocks</p>
</blockquote>
<p>安装完成后配饰shadowsocks，通过以下几步。</p>
<p>1.输入命令 vi /etc/shadowsocks.json，点击 i 进入输入状态，输入以下内容，输入完成，点击Esc，输入 :wq 保存并退出。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line"><span class="attr">"server_port"</span>:<span class="number">443</span>,</span><br><span class="line"><span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line"><span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line"><span class="attr">"password"</span>:<span class="string">"yourpassword"</span>,</span><br><span class="line"><span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line"><span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.输入命令 ssserver -c /etc/shadowsocks.json -d start 启动shadowsocks。</p>
<p>至此服务器端最基本的配置完成了，配置好客户端就可以使用谷歌来查阅资料了。</p>
<h3 id="配置-Shadowsocks-客户端"><a href="#配置-Shadowsocks-客户端" class="headerlink" title="配置 Shadowsocks 客户端"></a>配置 Shadowsocks 客户端</h3><p>去 <a href="https://github.com/shadowsocks" target="_blank" rel="noopener">Github</a> 上下载对应的客户端，完成后配置IP，端口信息即可。如下图：</p>
<p><img src="Google-Cloud-Shadowsocks/3.png" alt=""></p>
<p> <strong>遵守法律，科学上网</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">浪人</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">浪人</span>

  
<div style="width:300px;margin:0 auto; padding:20px 0;">
    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=37068202000198" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">鲁公网安备 37068202000198号</p></a>
</div>

  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
